<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>lnvnl</title>

  <style>
    :root{
      --bg:#070a10;
      --card:#0e1626;
      --text:#e5e7eb;
      --muted:#9ca3af;
      --border:#1f2937;
      --btn:#e5e7eb;
      --btnText:#070a10;
      --good:#34d399;
      --bad:#fb7185;
      --glow:120,180,255;
    }

    *{box-sizing:border-box}

    body{
      margin:0;
      min-height:100vh;
      min-height:100dvh; /* mobile fix */
      font-family: system-ui, -apple-system, Segoe UI, Roboto, Arial;
      background:
        radial-gradient(800px 400px at 20% 10%, rgba(var(--glow),.12), transparent 60%),
        radial-gradient(700px 500px at 80% 30%, rgba(255,255,255,.06), transparent 60%),
        var(--bg);
      display:grid;
      place-items:center;
      padding:24px;
      color:var(--text);
      overflow:hidden;
    }

    .card{
      width:100%;
      max-width:520px;
      background:rgba(14,22,38,.75);
      border:1px solid var(--border);
      border-radius:22px;
      padding:26px;
      box-shadow:0 20px 60px rgba(0,0,0,.6);
      backdrop-filter: blur(10px);
      animation: fadeUp .6s ease forwards;
    }

    @keyframes fadeUp{
      from{opacity:0; transform:translateY(14px)}
      to{opacity:1; transform:none}
    }

    h1{
      font-size:44px;
      margin:0;
      font-weight:800;
      text-align:center;
    }

    .sub{
      text-align:center;
      color:var(--muted);
      margin:6px 0 20px;
    }

    .server{
      background:rgba(0,0,0,.25);
      border:1px solid var(--border);
      border-radius:16px;
      padding:16px;
    }

    .label{
      color:var(--muted);
      font-size:13px;
      margin-bottom:8px;
    }

    .row{
      display:flex;
      align-items:center;
      justify-content:space-between;
      gap:10px;
      flex-wrap:wrap;
    }

    .ip{
      display:flex;
      align-items:center;
      gap:10px;
      font-weight:700;
      font-size:18px;
    }

    .dot{
      width:10px;
      height:10px;
      border-radius:50%;
      background:var(--bad);
      box-shadow:0 0 14px rgba(251,113,133,.6);
    }
    .dot.online{
      background:var(--good);
      box-shadow:0 0 14px rgba(52,211,153,.6);
    }

    .btn{
      padding:10px 14px;
      border:none;
      border-radius:12px;
      font-weight:700;
      cursor:pointer;
      background:var(--btn);
      color:var(--btnText);
    }

    .pill{
      margin-top:12px;
      padding:10px 12px;
      border-radius:999px;
      border:1px solid var(--border);
      background:rgba(255,255,255,.03);
      font-size:13px;
      color:var(--muted);
      display:flex;
      justify-content:space-between;
      gap:10px;
      flex-wrap:wrap;
    }

    .actions{
      margin-top:16px;
      display:flex;
      gap:10px;
      flex-wrap:wrap;
      justify-content:center;
    }

    .linkbtn{
      padding:10px 16px;
      border-radius:12px;
      border:1px solid var(--border);
      background:transparent;
      color:var(--text);
      text-decoration:none;
      font-weight:700;
    }

    .footer{
      margin-top:14px;
      font-size:12px;
      color:var(--muted);
      text-align:center;
    }
  </style>
</head>

<body>
  <main class="card">
    <h1>lnvnl</h1>
    <div class="sub">Minecraft server (Java)</div>

    <div class="server">
      <div class="label">Server Address</div>

      <div class="row">
        <div class="ip">
          <span class="dot" id="statusDot"></span>
          <span id="serverIp">mc.lnvnl.org</span>
        </div>
        <button class="btn" onclick="copyIP()">Copy</button>
      </div>

      <div class="pill">
        <span id="statusText">Checking…</span>
        <span id="playersText">Players: —/—</span>
        <span id="serverVer">—</span>
      </div>

      <div class="pill">
        <span>Latest Minecraft</span>
        <span>v <strong id="latestVer">—</strong></span>
      </div>

      <div class="actions">
        <a class="linkbtn" href="https://panel.lnvnl.org" target="_blank">Panel</a>
      </div>
    </div>

    <div class="footer">
      Multiplayer → Add Server → paste the address
    </div>
  </main>

  <script>
    const SERVER = "mc.lnvnl.org";

    function copyIP(){
      navigator.clipboard.writeText(SERVER);
    }

    async function loadStatus(){
      try{
        const res = await fetch(`https://api.mcsrvstat.us/3/${SERVER}`, {cache:"no-store"});
        const d = await res.json();

        const dot = document.getElementById("statusDot");
        const status = document.getElementById("statusText");

        if(d.online){
          dot.classList.add("online");
          status.textContent = "Online";
          document.getElementById("playersText").textContent =
            `Players: ${d.players.online}/${d.players.max}`;
          document.getElementById("serverVer").textContent =
            `Server: ${d.protocol?.name || d.version}`;
        }else{
          status.textContent = "Offline";
        }
      }catch{}
    }

    async function loadLatest(){
      try{
        const r = await fetch("https://piston-meta.mojang.com/mc/game/version_manifest_v2.json",{cache:"no-store"});
        const j = await r.json();
        document.getElementById("latestVer").textContent = j.latest.release;
      }catch{
        document.getElementById("latestVer").textContent = "Latest";
      }
    }

    loadStatus();
    loadLatest();
    setInterval(loadStatus, 120000);
  </script>
</body>
</html>      background: radial-gradient(circle at 40% 40%, rgba(180,255,220,.8), transparent 55%);
      animation-duration: 12s; opacity:.10;
    }
    .blob.b1{left:-220px; top:35%;}
    @keyframes floaty{ 0%,100%{transform:translate(0,0) scale(1)} 50%{transform:translate(18px,-16px) scale(1.03)} }

    .card{
      position:relative;
      width: 100%;
      max-width: 600px;
      border-radius: 22px;
      padding: 28px 22px;
      background: rgba(14,22,38,.75);
      border: 1px solid rgba(31,41,55,.75);
      box-shadow: 0 18px 60px rgba(0,0,0,.55), 0 0 0 1px rgba(255,255,255,.03) inset;
      backdrop-filter: blur(10px);
      transform: translateY(10px);
      opacity: 0;
      animation: enter .7s cubic-bezier(.2,.8,.2,1) forwards;
    }
    .card::before{
      content:""; position:absolute; inset:-1px; border-radius: 22px; padding:1px;
      background: linear-gradient(120deg, rgba(var(--glow),.45), rgba(255,255,255,.12), rgba(180,255,220,.35), rgba(var(--glow),.45));
      -webkit-mask: linear-gradient(#000 0 0) content-box, linear-gradient(#000 0 0);
      -webkit-mask-composite: xor; mask-composite: exclude;
      opacity:.35; animation: shimmer 4.5s linear infinite; pointer-events:none;
    }
    @keyframes shimmer{ 0%{filter:hue-rotate(0deg);transform:translateX(-6px)} 50%{filter:hue-rotate(20deg);transform:translateX(6px)} 100%{filter:hue-rotate(0deg);transform:translateX(-6px)} }
    @keyframes enter{ to{transform: translateY(0); opacity:1;} }

    .top{
      display:flex; align-items:center; justify-content:center; gap:14px;
      margin-bottom: 6px;
    }
    .icon{
      width:48px;height:48px;border-radius:14px;
      border:1px solid rgba(31,41,55,.9);
      background: rgba(0,0,0,.25);
      box-shadow: 0 10px 30px rgba(0,0,0,.35);
    }

    h1{font-size:46px;margin:0;letter-spacing:-1.2px;font-weight:850;text-align:center;}
    .sub{margin: 6px 0 18px 0;color: var(--muted);font-size: 15.5px;line-height: 1.5;text-align:center;}

    .server-box{
      margin-top: 14px;
      border-radius: 16px;
      border: 1px solid rgba(31,41,55,.9);
      background: rgba(0,0,0,.22);
      padding: 16px;
    }
    .label{color: var(--muted);font-size: 12.5px;margin-bottom: 8px;}
    .ip-row{display:flex;gap: 10px;align-items:center;justify-content: space-between;flex-wrap: wrap;}
    .ip{font-size: 18px;font-weight: 800;letter-spacing: .2px;word-break: break-word;display:flex;align-items:center;gap: 10px;}

    .statusdot{
      width:10px;height:10px;border-radius:999px;
      background: var(--warn);
      box-shadow: 0 0 18px rgba(251,191,36,.45);
      animation: pulse 1.6s ease-in-out infinite;
    }
    .statusdot.online{ background: var(--good); box-shadow: 0 0 18px rgba(52,211,153,.45); }
    .statusdot.offline{ background: var(--bad); box-shadow: 0 0 18px rgba(251,113,133,.45); }
    @keyframes pulse{ 0%,100%{transform: scale(1); opacity:.8} 50%{transform: scale(1.25); opacity:1} }

    .btn{
      position:relative;
      padding: 10px 14px;
      border-radius: 12px;
      border: none;
      cursor: pointer;
      background: var(--btn);
      color: var(--btnText);
      font-weight: 800;
      transition: transform .18s ease, opacity .18s ease;
      overflow:hidden;
    }
    .btn:hover{ transform: translateY(-1px); }
    .btn:active{ transform: translateY(0px) scale(.98); }
    .btn .ripple{
      position:absolute; border-radius:999px; transform: translate(-50%,-50%);
      background: rgba(0,0,0,.12); animation: rip .55s ease-out forwards; pointer-events:none;
    }
    @keyframes rip{ from{width:0;height:0;opacity:.9} to{width:420px;height:420px;opacity:0} }

    .pill{
      margin-top: 12px;
      padding: 10px 12px;
      border-radius: 14px;
      border: 1px solid rgba(31,41,55,.9);
      background: rgba(255,255,255,.03);
      display:flex;
      gap:10px;
      align-items:center;
      justify-content:space-between;
      flex-wrap:wrap;
      font-size: 13px;
      color: var(--muted);
    }
    .tag{color: rgba(229,231,235,.95); font-weight: 800;}
    .motd{
      margin-top: 12px;
      color: rgba(156,163,175,.85);
      font-size: 13px;
      line-height: 1.45;
    }
    .footer{margin-top: 14px;color: rgba(156,163,175,.7);font-size: 12.5px;text-align:center;}
  </style>
</head>

<body>
  <div class="blob b1"></div>
  <div class="blob b2"></div>

  <main class="card">
    <div class="top">
      <img class="icon" id="srvIcon" alt="Server icon" />
      <h1>lnvnl</h1>
    </div>
    <p class="sub">Minecraft server (Java)</p>

    <section class="server-box">
      <div class="label">Server Address</div>

      <div class="ip-row">
        <div class="ip">
          <span class="statusdot" id="statusDot" aria-hidden="true"></span>
          <span id="serverIp">mc.lnvnl.org</span>
        </div>
        <button class="btn" id="copyBtn" onclick="copyIP(event)">Copy</button>
      </div>

      <div class="pill">
        <span><span class="tag" id="statusText">Checking…</span> • <span id="playersText">Players: —/—</span></span>
        <span>Server: <span class="tag" id="serverVer">—</span></span>
      </div>

      <div class="pill">
        <span>Latest Minecraft release</span>
        <span>v <span class="tag" id="latestVer">Loading…</span></span>
      </div>

      <div class="motd" id="motdText"></div>
      <div class="footer">Multiplayer → Add Server → paste the address</div>
    </section>
  </main>

  <script>
    const SERVER = "mc.lnvnl.org";

    function copyIP(e) {
      const btn = document.getElementById("copyBtn");
      const r = document.createElement("span");
      r.className = "ripple";
      const rect = btn.getBoundingClientRect();
      r.style.left = (e.clientX - rect.left) + "px";
      r.style.top  = (e.clientY - rect.top) + "px";
      btn.appendChild(r);
      setTimeout(() => r.remove(), 600);

      navigator.clipboard.writeText(SERVER).then(() => {
        btn.textContent = "Copied!";
        setTimeout(() => btn.textContent = "Copy", 1200);
      });
    }

    function setStatus(online) {
      const dot = document.getElementById("statusDot");
      const text = document.getElementById("statusText");
      dot.classList.remove("online","offline");
      if (online === true) { dot.classList.add("online"); text.textContent = "Online"; }
      else if (online === false) { dot.classList.add("offline"); text.textContent = "Offline"; }
      else { text.textContent = "Checking…"; }
    }

    async function loadServerStatus() {
      document.getElementById("serverIp").textContent = SERVER;
      document.getElementById("srvIcon").src = `https://api.mcsrvstat.us/icon/${SERVER}`;

      try {
        const res = await fetch(`https://api.mcsrvstat.us/3/${SERVER}`, { cache: "no-store" });
        if (!res.ok) throw new Error("bad response");
        const data = await res.json();

        setStatus(data.online);

        if (data.online) {
          const online = data?.players?.online ?? 0;
          const max = data?.players?.max ?? "—";
          document.getElementById("playersText").textContent = `Players: ${online}/${max}`;
          document.getElementById("serverVer").textContent = data?.protocol?.name || data?.version || "—";

          const motdLines = data?.motd?.clean || [];
          document.getElementById("motdText").textContent =
            motdLines.length ? motdLines.join(" • ") : "";
        } else {
          document.getElementById("playersText").textContent = "Players: —/—";
          document.getElementById("serverVer").textContent = "—";
          document.getElementById("motdText").textContent = "";
        }
      } catch {
        setStatus(null);
        document.getElementById("playersText").textContent = "Players: —/—";
        document.getElementById("serverVer").textContent = "—";
        document.getElementById("motdText").textContent = "Status unavailable (API blocked/offline).";
      }
    }

    async function loadLatestRelease() {
      try {
        const res = await fetch("https://piston-meta.mojang.com/mc/game/version_manifest_v2.json", { cache: "no-store" });
        if (!res.ok) throw new Error("bad response");
        const data = await res.json();
        document.getElementById("latestVer").textContent = data?.latest?.release || "Latest";
      } catch {
        document.getElementById("latestVer").textContent = "Latest";
      }
    }

    loadServerStatus();
    loadLatestRelease();

    // mcsrvstat.us responses are cached for ~2 minutes, so refresh every 2 min
    setInterval(loadServerStatus, 120000);
    setInterval(loadLatestRelease, 120000);
  </script>
</body>
</html>
